# Rulesets Quickstart

Get started with Rulesets in 5 minutes. Write AI assistant rules once in Markdown and compile them for multiple AI tools.

## Installation

```bash
# Install globally (preferred)
bun add --global @rulesets/cli@latest

# Or run without installing
bunx @rulesets/cli@latest --help

# Need a one-off without Bun?
npx -y @rulesets/cli@latest --help
```

## Initialize Your Project

```bash
cd your-project
rulesets init
```

This creates:
- `.ruleset/config.yaml` - Project configuration
- `.ruleset/rules/` - Directory for your rule files
- `.ruleset/partials/` - Shared template fragments
- Example files to get you started

## Write Your First Rule

Create `.ruleset/rules/coding-standards.md`:

```markdown
---
rule:
  version: '0.2.0'
description: 'Basic coding standards for the project'
cursor:
  enabled: true
  priority: high
windsurf:
  enabled: true
claude-code:
  enabled: true
---

# Coding Standards

## General Guidelines

- Write clear, self-documenting code
- Use consistent formatting
- Add comments for complex logic

## Language Specific

### TypeScript
- Use strict mode
- Prefer `const` over `let`
- Always specify return types for functions

### Testing
- Write tests for all new features
- Use descriptive test names
- Follow AAA pattern (Arrange, Act, Assert)
```

## Build Your Rules

```bash
# Build all rules for all providers
rulesets build

# Build for specific provider only
rulesets build --provider cursor

# Watch for changes and auto-build
rulesets build --watch

# Emit structured JSON logs (useful for agents/automation)
rulesets build --format json   # `--json` alias still works
```

This generates compiled rules in `.ruleset/dist/`:
- `cursor/coding-standards.md` - For Cursor IDE
- `windsurf/coding-standards.md` - For Windsurf IDE
- `claude-code/coding-standards.md` - For Claude Code CLI
- `agents-md/AGENTS.md` - Multi-tool aggregation

## Using Compiled Rules

### Cursor IDE
Copy or symlink the generated files:
```bash
ln -s .ruleset/dist/cursor/* .cursor/rules/
```

### Claude Code
The compiled rules are ready to use directly:
```bash
# Rules are compiled to individual .md files
cat .ruleset/dist/claude-code/coding-standards.md
```

### Multiple Tools
Use the AGENTS.md aggregation:
```bash
cp .ruleset/dist/agents-md/AGENTS.md ./
```

## Advanced Features

### Handlebars Templates

Enable templating for dynamic content:

```yaml
---
rule:
  version: '0.2.0'
  template: true  # Enable Handlebars
description: 'Dynamic rule with templates'
---

# {{rule.description}}

Current provider: **{{provider.id}}**

{{#if cursor}}
This rule is customized for Cursor IDE.
{{else}}
This is the generic version.
{{/if}}

{{> footer}}  <!-- Include shared partial -->
```

Create `.ruleset/partials/footer.md`:
```markdown
---
Generated by Rulesets v0.2.0 on {{date}}
```

### Multiple Source Directories

Configure additional rule sources in `.ruleset/config.yaml`:

```yaml
version: '0.2.0'
sources:
  - '.ruleset/rules'
  - 'docs/rules'      # Additional source directory
  - 'teams/*/rules'   # Glob patterns supported

rule:
  template: true      # Enable templating by default
```

### Provider-Specific Configuration

Customize behavior per AI tool:

```yaml
---
rule:
  version: '0.2.0'
cursor:
  enabled: true
  priority: high
  outputPath: '.cursor/rules/custom-location.mdc'
windsurf:
  enabled: true
  format: xml  # Use XML instead of Markdown
claude-code:
  enabled: false  # Skip this provider
---
```

## Common Commands

```bash
# List discovered rules
rulesets list

# Import external Markdown file
rulesets import path/to/existing-rules.md

# Convert rule to reusable partial
rulesets promote .ruleset/rules/common.md --name shared-guidelines

# Get help
rulesets --help
rulesets build --help
```

## Project Structure

After initialization and a build:

```
your-project/
├── .ruleset/
│   ├── config.yaml              # Project configuration
│   ├── rules/                   # Your rule source files
│   │   └── coding-standards.md
│   ├── partials/                # Reusable template pieces
│   │   ├── footer.md
│   │   └── welcome.md
│   └── dist/                    # Compiled output
│       ├── cursor/              # → .cursor/rules/
│       ├── windsurf/            # → .windsurf/rules/
│       ├── claude-code/         # → CLAUDE.md sections
│       ├── agents-md/           # → AGENTS.md
│       └── copilot/             # → .copilot/rules/
├── .gitignore                   # Add .ruleset/dist/
└── package.json
```

## Best Practices

### File Organization
- Use `.md` extension for clarity
- Keep rules focused on single topics
- Use descriptive filenames: `typescript-standards.md`

### Version Control
- Commit source rules (`.ruleset/rules/`)
- Add `.ruleset/dist/` to `.gitignore`
- Only commit compiled outputs if tools require it

### Rule Writing
- Start with H1 heading
- Use present-tense, actionable language
- Keep sections concise and focused
- Test compilation after changes

### Configuration
- Use YAML for config (most readable)
- Start with minimal config, add complexity as needed
- Document provider-specific requirements

## Troubleshooting

### No rules found
- Ensure files have `rule:` in front matter
- Check `sources` configuration in `.ruleset/config.yaml`
- Verify file extensions match your patterns

### Template errors
- Enable templating: `rule.template: true`
- Escape literal braces: `\{{not-a-variable}}`
- Check partial names and file locations

### Provider issues
- Verify provider is enabled: `provider.enabled: true`
- Check output paths and permissions
- Review provider-specific documentation

## Next Steps

- Read the [Configuration Guide](./CONFIGURATION.md) for advanced setup
- Browse the [Schema Reference](../.agents/docs/SCHEMA.md) for all options
- Check out [example rules](https://github.com/outfitter-dev/rulesets/tree/main/examples)
- Join the [community discussions](https://github.com/outfitter-dev/rulesets/discussions)

---

**Need help?** Open an issue on [GitHub](https://github.com/outfitter-dev/rulesets/issues) or check the [full documentation](https://github.com/outfitter-dev/rulesets/wiki).
